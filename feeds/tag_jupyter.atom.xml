<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Liang2's blog</title><link href="//blog.liang2.tw/" rel="alternate"></link><link href="//blog.liang2.tw/feeds/tag_jupyter.atom.xml" rel="self"></link><id>//blog.liang2.tw/</id><updated>2016-01-07T00:00:00+08:00</updated><entry><title>Jupyter Notebook Theme</title><link href="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/" rel="alternate"></link><updated>2016-01-07T00:00:00+08:00</updated><author><name>Liang2</name></author><id>tag:blog.liang2.tw,2016-01-07:posts/2016/01/jupyter-notebook-theme/</id><summary type="html">&lt;p&gt;&lt;a href="http://jupyter.org/"&gt;Jupyter Notebook&lt;/a&gt;，也就是以前的 IPython Notebook，應該是許多人在用 Python&amp;nbsp;做資料分析時記錄實驗步驗與結果的工具。&lt;/p&gt;
&lt;p&gt;現在 &lt;a href="http://ipython.org/"&gt;IPython&lt;/a&gt; (v4.0+) 已經回歸到 Interactive Python Shell 的本質，變成只是擴充內建 Python &lt;span class="caps"&gt;REPL&lt;/span&gt; 的套件，相依的模組也清掉了。原本的 IPyton Notebook 主要是提供一個像 &lt;a href="https://reference.wolfram.com/language/tutorial/UsingANotebookInterface.html"&gt;Mathematica Notebook&lt;/a&gt; 的環境，功能很多就不多提。它可以用 web 或者 &lt;span class="caps"&gt;QT&lt;/span&gt;&amp;nbsp;介面來跑。&lt;/p&gt;
&lt;p&gt;後來又開始整合很多語言，變成像 Julia / R / Lua 等語言都可以利用這樣的 Notebook 架構，於是 &lt;a href="http://jupyter.org/"&gt;Jupyter&lt;/a&gt; 就因此誕生，變成原本的 IPython 只是其中一個可能的語言 kernel。Notebook 本身可以是 R 語言或者 Julia&amp;nbsp;語言。&lt;/p&gt;
&lt;div class="toc"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#jupyter-notebook"&gt;Jupyter&amp;nbsp;Notebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#custom-theme-on-v41"&gt;Custom Theme on&amp;nbsp;v4.1+&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#custom-theme-before-v41"&gt;Custom Theme Before&amp;nbsp;v4.1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h3 id="jupyter-notebook"&gt;Jupyter&amp;nbsp;Notebook&lt;/h3&gt;
&lt;p&gt;用 Python&amp;nbsp;裝十分簡單，&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; pip install jupyter
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Jupyter 預設走 web 介面，會跑一個 tornado server 預設在 &lt;a href="http://localhost:8888"&gt;http://localhost:8888&lt;/a&gt;&amp;nbsp;上。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; jupyter notebook
&lt;span class="go"&gt;[I 23:50:58.449 NotebookApp] Serving notebooks from local directory: /Users/liang&lt;/span&gt;
&lt;span class="go"&gt;[I 23:50:58.449 NotebookApp] 0 active kernels&lt;/span&gt;
&lt;span class="go"&gt;[I 23:50:58.450 NotebookApp] The IPython Notebook is running at: http://localhost:8888/&lt;/span&gt;
&lt;span class="go"&gt;[I 23:50:58.450 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;有裝 browser&amp;nbsp;的話就會自動開一個視窗。&lt;/p&gt;
&lt;div class="figure"&gt;
  &lt;img src="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/pics/jupyter_default_frontpage.png"/&gt;
  &lt;p class="caption center"&gt;Jupyter Notebook&amp;nbsp;Hub&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Notebook 預設是 &lt;code&gt;.ipynb&lt;/code&gt; 的檔案。常見的內容像這樣：&lt;/p&gt;
&lt;div class="figure"&gt;
  &lt;img src="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/pics/jupyter_default_notebook.png"/&gt;
  &lt;p class="caption center"&gt;Jupyter Notebook&amp;nbsp;Example&lt;/p&gt;
&lt;/div&gt;

&lt;h3 id="custom-theme-on-v41"&gt;Custom Theme on&amp;nbsp;v4.1+&lt;/h3&gt;
&lt;p&gt;&lt;span class="caps"&gt;EDIT&lt;/span&gt;: 2016-01-11 &lt;a href="https://blog.jupyter.org/2016/01/08/notebook-4-1-release/"&gt;Jupyter Notebook 4.1&lt;/a&gt; 已釋出，設定路徑預設都在 &lt;code&gt;~/.jupyter&lt;/code&gt; 底下。&lt;/p&gt;
&lt;p&gt;今天重點是換主題嘛。趕快來做吧。&lt;/p&gt;
&lt;p&gt;可以透過 &lt;code&gt;jupyter --config-dir&lt;/code&gt; 或 &lt;code&gt;jupyter --paths&lt;/code&gt; 找到設定檔應該放的位置。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; jupyter --config-dir
&lt;span class="go"&gt;~/.jupyter&lt;/span&gt;
&lt;span class="gp"&gt;$&lt;/span&gt; jupyter notebook --generate-config  &lt;span class="c"&gt;# 建立 Notebook 設定檔&lt;/span&gt;
&lt;span class="go"&gt;Writing default config to: ~/.jupyter/jupyter_notebook_config.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;如果只是改主題，不需要更動 Notebook&amp;nbsp;設定檔。&lt;/p&gt;
&lt;p&gt;目前自己使用的主題來自 &lt;a href="https://github.com/dunovank/jupyter-themes"&gt;dunovank&lt;/a&gt;，他有收集了至少深淺兩色，應該足夠使用了。&lt;span class="caps"&gt;CSS&lt;/span&gt; 從別人的基礎上來調整也相對簡單，我自己有&lt;a href="https://github.com/ccwang002/dotfiles/tree/master/ipy_profile/ipython3"&gt;改寫了一點&lt;/a&gt;（忘了改什麼)。dunovank 有寫個安裝 theme 的套件，不過不用也沒關係，只要準備好 &lt;span class="caps"&gt;CSS&lt;/span&gt; 就能用。我用 Grade3&amp;nbsp;這個主題來示範。&lt;/p&gt;
&lt;p&gt;把 &lt;code&gt;custom.css&lt;/code&gt; 放到 &lt;code&gt;~/.jupyter/static/custom.css&lt;/code&gt;。設定的目錄長得如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; tree ~/.jupyter -F -L 3
&lt;span class="go"&gt;~/.jupyter&lt;/span&gt;
&lt;span class="go"&gt;├── custom/&lt;/span&gt;
&lt;span class="go"&gt;│   └── custom.css -&amp;gt; /path/to/custom_light.css&lt;/span&gt;
&lt;span class="go"&gt;└── jupyter_notebook_config.py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3 id="custom-theme-before-v41"&gt;Custom Theme Before&amp;nbsp;v4.1&lt;/h3&gt;
&lt;p&gt;現在因為歷經 IPython 到 Jupyter 的過程，設定還蠻分散的。以往的設定會在 &lt;code&gt;~/.ipython&lt;/code&gt;，而到了 Jupyter 之後，相關設定會在 &lt;code&gt;~/.jupyter&lt;/code&gt;。有時候設定怪怪的話就兩個路徑都檢查一下吧。&lt;/p&gt;
&lt;p&gt;只要把這個 &lt;span class="caps"&gt;CSS&lt;/span&gt; 放到 &lt;code&gt;~/.ipython/profile_default/custom.css&lt;/code&gt; 再重開 Jupyter Notebook 就可以了&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="#fn:1" rel="footnote"&gt;1&lt;/a&gt;&lt;/sup&gt;。效果如下：&lt;/p&gt;
&lt;div class="figure"&gt;
  &lt;img src="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/pics/jupyter_grade3_frontpage.png"/&gt;
  &lt;img src="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/pics/jupyter_grade3_notebook1.png"/&gt;
  &lt;p class="caption center"&gt;Jupyter Notebook Theme Grade3&amp;nbsp;Demo&lt;/p&gt;
&lt;/div&gt;

&lt;div class="figure"&gt;
  &lt;img src="//blog.liang2.tw/posts/2016/01/jupyter-notebook-theme/pics/jupyter_grade3_notebook2.png"/&gt;
  &lt;p class="caption center"&gt;把 Toolbar 全部 toggle&amp;nbsp;起來，以及表格的樣子。&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;個人覺得長時間使用下來，對比度低一點對眼睛比較好。黑底也不錯，不過畫圖常常會自己帶白底，整體感覺就不是很漂亮，可能要連 matplotlib theme 一起改吧 &lt;span class="caps"&gt;XD&lt;/span&gt;&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;這路徑並不符合 Jupyter 跨 kernel 的設計理念，&lt;del&gt;感覺未來會改路徑&lt;/del&gt;已經在 4.1+ 版本中完成整合，與 IPython 設定分家了。&amp;#160;&lt;a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text"&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</summary><category term="zh"></category><category term="jupyter"></category><category term="notebook"></category></entry></feed>